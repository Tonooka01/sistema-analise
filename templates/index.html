{% extends "base.html" %}

{% block title %}
    Dashboard Principal
{% endblock %}

{% block content %}
<h1 class="text-4xl font-bold text-center mb-6">Dashboard Financeiro SQLite</h1>
        
<div class="absolute top-4 right-4">
    <a href="/logout" class="text-sm bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded transition">
        Sair
    </a>
</div>
<div class="absolute top-4 right-4 flex gap-2">
    
    {% if current_user.is_authenticated and current_user.username == 'admin' %}
        
        <button id="openAdminSettingsModalBtn" class="text-sm bg-blue-600 hover:bg-blue-700 text-white py-1 px-3 rounded transition shadow-lg flex items-center gap-1">
            ‚öôÔ∏è Configura√ß√µes
        </button>
        
        <a href="/admin/logs" class="text-sm bg-gray-800 hover:bg-gray-900 text-white py-1 px-3 rounded transition shadow-lg flex items-center gap-1">
            üëÅÔ∏è Ver Logs
        </a>

    {% endif %}

    <a href="/logout" class="text-sm bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded transition shadow-lg">
        Sair
    </a>
</div>
<div class="collection-selector flex flex-wrap justify-center items-center gap-4 mb-8">
    <button id="btnClientes" class="px-5 py-3 rounded-xl shadow-md active:scale-95 bg-blue-600 text-white font-semibold">Clientes</button>
    <button id="btnContasAReceber" class="px-5 py-3 rounded-xl shadow-md active:scale-95 bg-blue-600 text-white font-semibold">Contas a Receber</button>
    <button id="btnAtendimentos" class="px-5 py-3 rounded-xl shadow-md active:scale-95 bg-blue-600 text-white font-semibold">Atendimentos</button>
    <button id="btnOS" class="px-5 py-3 rounded-xl shadow-md active:scale-95 bg-blue-600 text-white font-semibold">OS</button>
    <button id="btnLogins" class="px-5 py-3 rounded-xl shadow-md active:scale-95 bg-blue-600 text-white font-semibold">Logins</button>
    <button id="btnContratos" class="px-5 py-3 rounded-xl shadow-md active:scale-95 bg-blue-600 text-white font-semibold">Contratos</button>
    <button id="btnCidade" class="px-5 py-3 rounded-xl shadow-md active:scale-95 bg-blue-600 text-white font-semibold">Cidade</button>
    <button id="btnVendedor" class="px-5 py-3 rounded-xl shadow-md active:scale-95 bg-blue-600 text-white font-semibold">Vendedor</button>
    <div class="relative">
        <select id="customAnalysisSelector" class="px-5 py-3 rounded-xl shadow-md bg-purple-600 text-white font-semibold cursor-pointer">
            <option value="" disabled selected>An√°lise Personalizada</option>
            <option value="analise_juros_atraso" class="text-black bg-white">An√°lise de Juros por Atraso</option>
            <option value="faturamento_por_cidade" class="text-black bg-white">Faturamento por Per√≠odo e Cidade</option>
            <option value="active_clients_evolution" class="text-black bg-white">Evolu√ß√£o de Clientes Ativos</option>
            <option value="analise_comportamento" class="text-black bg-white">An√°lise de Comportamento</option>
            <option value="activations_by_seller" class="text-black bg-white">Ativa√ß√£o por Vendedor</option>
            <option value="atrasos_e_nao_pagos" class="text-black bg-white">Atrasos e Faturas N√£o Pagas</option>
            <option value="saude_financeira_contrato_atraso" class="text-black bg-white">Sa√∫de Financeira por Contrato (Financeiro em atraso)</option>
            <option value="saude_financeira_contrato_bloqueio" class="text-black bg-white">Sa√∫de Financeira por Contrato (Bloqueio autom√°tico)</option>
            <option value="cancellations" class="text-black bg-white">An√°lise de Cancelamento</option>
            <option value="negativacao" class="text-black bg-white">An√°lise de Negativa√ß√£o</option>
            <option value="vendedores" class="text-black bg-white">An√°lise de Vendedores (Churn)</option>
            <option value="cancellations_by_city" class="text-black bg-white">Cancelamento/Negativa√ß√£o por Cidade</option>
            <option value="cancellations_by_neighborhood" class="text-black bg-white">Cancelamento/Negativa√ß√£o por Bairro</option>
            <option value="cancellations_by_equipment" class="text-black bg-white">Cancelamento por Equipamento</option>
            <option value="equipment_by_olt" class="text-black bg-white">Equipamentos por OLT</option>
            <option value="cohort_retention" class="text-black bg-white">Gr√°fico de Reten√ß√£o (Coorte)</option>
            <option value="daily_evolution_by_city" class="text-black bg-white">Evolu√ß√£o Di√°ria por Cidade</option>
            <option value="comparativo_diario" class="text-black bg-white">Comparativo Di√°rio</option>
        </select>
    </div>
        <button id="saveLayoutBtn" class="px-5 py-3 rounded-xl shadow-md bg-green-600 text-white font-semibold hover:bg-green-700 active:scale-95 transition">
        Salvar Layout
    </button>
</div>

<div id="dashboard-content-wrapper" class="card p-6">
    <div id="dashboard-content">
        <p class="text-center text-gray-500">Selecione uma cole√ß√£o acima para visualizar as an√°lises.</p>
    </div>
    <div id="chart-loading" class="text-center text-gray-600 mb-4 hidden">
        <div class="loading-spinner"></div>
        Carregando an√°lises...
    </div>
    <div id="chart-error-message" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4" role="alert">
        <strong class="font-bold">Erro!</strong>
        <span class="block sm:inline" id="chart-error-text">N√£o foi poss√≠vel carregar as an√°lises.</span>
    </div>

    <div id="behavior-analysis-container" class="hidden">
        <div class="border-b border-gray-200 mb-4">
            <nav id="behavior-analysis-tabs" class="-mb-px flex space-x-8" aria-label="Tabs">
                <a href="#" data-tab="reclamacoes" class="tab-link whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">Padr√£o de Reclama√ß√µes</a>
                <a href="#" data-tab="churn" class="tab-link whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">Padr√£o de Churn</a>
                <a href="#" data-tab="preditiva" class="tab-link whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">An√°lise Preditiva de Churn</a>
            </nav>
        </div>
        <div id="behavior-analysis-tab-content">
            <div id="tab-content-reclamacoes" class="tab-pane"></div>
            <div id="tab-content-churn" class="tab-pane"></div>
            <div id="tab-content-preditiva" class="tab-pane"></div>
        </div>
    </div>


    <!-- FILTRO DE BUSCA (USADO POR CANCELAMENTO E NEGATIVA√á√ÉO) -->
    <div id="custom-search-filter" class="flex flex-col md:flex-row items-center justify-center gap-4 my-8 hidden">
        <label for="clientSearchInput" class="text-gray-700 font-medium whitespace-nowrap">Buscar Cliente:</label>
        <input type="text" id="clientSearchInput" placeholder="Digite o nome do cliente..." class="block w-full max-w-sm py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        <button id="applyClientSearch" class="bg-blue-600 text-white px-5 py-2 rounded-lg shadow-md hover:bg-blue-700 transition">Buscar</button>
    
        <!-- FILTRO DE RELEV√ÇNCIA (PARA CANCELAMENTO/NEGATIVA√á√ÉO) -->
        <div class="flex flex-col items-center">
            <label for="relevanceFilterSearch" class="text-gray-700 font-medium whitespace-nowrap text-sm">Relev√¢ncia (Meses P√≥s-Ativa√ß√£o):</label>
            <select id="relevanceFilterSearch" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                <option value="">Todos</option>
                <option value="0-6">0-6 Meses</option>
                <option value="0-12">0-12 Meses</option>
                <option value="13-24">13-24 Meses</option>
                <option value="25-36">25-36 Meses</option>
                <option value="37+">37+ Meses</option>
            </select>
        </div>
    </div>
    
    <!-- FILTROS SA√öDE FINANCEIRA / EVOLU√á√ÉO ATIVOS -->
    <div id="financial-health-filters" class="flex flex-wrap justify-center items-end gap-6 my-4 hidden">
        <!-- Status do Contrato (Select) -->
        <div class="flex flex-col">
            <label for="contractStatusFilter" class="text-gray-700 font-medium mb-1 text-sm">Status do Contrato:</label>
            <select id="contractStatusFilter" class="py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm w-48">
                <option value="">Todos</option>
            </select>
        </div>

        <!-- Status de Acesso (Checkbox Container) -->
        <div class="flex flex-col">
            <label class="text-gray-700 font-medium mb-1 text-sm">Status de Acesso:</label>
            <div id="accessStatusContainer" class="bg-white border border-gray-300 rounded-md p-2 h-32 overflow-y-auto w-56 shadow-sm text-sm relative">
                <p class="text-gray-400 text-xs">Carregando...</p>
            </div>
        </div>

        <!-- NOVO BOT√ÉO FILTRAR -->
        <button id="filterActiveClientsBtn" class="bg-blue-600 text-white px-5 py-2 rounded-lg shadow-md hover:bg-blue-700 transition h-10 font-semibold">
            Filtrar
        </button>
    </div>
    
    <!-- FILTROS FATURAMENTO CIDADE (J√Å USAVA DATA) -->
    <div id="faturamento-cidade-filters" class="flex flex-wrap justify-center items-center gap-4 my-8 hidden">
        <div class="flex flex-col items-center">
            <label for="faturamentoStartDate" class="text-gray-700 font-medium mb-2">Data Inicial:</label>
            <input type="date" id="faturamentoStartDate" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <div class="flex flex-col items-center">
            <label for="faturamentoEndDate" class="text-gray-700 font-medium mb-2">Data Final:</label>
            <input type="date" id="faturamentoEndDate" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <div class="flex flex-col items-center">
            <label for="faturamentoCityFilter" class="text-gray-700 font-medium mb-2">Filtrar por Cidade:</label>
            <select id="faturamentoCityFilter" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                <option value="">Todas as Cidades</option>
            </select>
        </div>
    </div>

    <!-- FILTROS FINANCEIROS / PRINCIPAL (ALTERADO PARA DATAS) -->
    <div id="financial-filters" class="flex flex-wrap justify-center gap-4 my-8 hidden">
        <div class="flex flex-col items-center">
            <label for="generalStartDate" class="text-gray-700 font-medium mb-2">Data Inicial:</label>
            <input type="date" id="generalStartDate" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <div class="flex flex-col items-center">
            <label for="generalEndDate" class="text-gray-700 font-medium mb-2">Data Final:</label>
            <input type="date" id="generalEndDate" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <div id="city-filter-container" class="flex flex-col items-center hidden">
            <label for="cityFilter" class="text-gray-700 font-medium mb-2">Filtrar por Cidade:</label>
            <select id="cityFilter" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                <option value="">Todas as Cidades</option>
            </select>
        </div>
    </div>

    <!-- FILTROS PARA AN√ÅLISE DE VENDEDORES (CHURN) (ALTERADO PARA DATAS) -->
    <div id="seller-analysis-filters" class="flex flex-wrap justify-center gap-4 my-8 hidden">
        <div class="flex flex-col items-center">
            <label for="sellerStartDate" class="text-gray-700 font-medium mb-2">Data Inicial:</label>
            <input type="date" id="sellerStartDate" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <div class="flex flex-col items-center">
            <label for="sellerEndDate" class="text-gray-700 font-medium mb-2">Data Final:</label>
            <input type="date" id="sellerEndDate" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
    </div>

    <!-- FILTROS PARA ATIVA√á√ÉO POR VENDEDOR (ALTERADO PARA DATAS) -->
    <div id="activation-seller-filters" class="flex flex-wrap justify-center gap-4 my-8 hidden">
        <div class="flex flex-col items-center">
            <label for="activationSellerCityFilter" class="text-gray-700 font-medium mb-2">Filtrar por Cidade:</label>
            <select id="activationSellerCityFilter" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                <option value="">Todas as Cidades</option>
            </select>
        </div>
        <div class="flex flex-col items-center">
            <label for="activationSellerStartDate" class="text-gray-700 font-medium mb-2">Data Inicial (Ativa√ß√£o):</label>
            <input type="date" id="activationSellerStartDate" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <div class="flex flex-col items-center">
            <label for="activationSellerEndDate" class="text-gray-700 font-medium mb-2">Data Final (Ativa√ß√£o):</label>
            <input type="date" id="activationSellerEndDate" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
    </div>

    
    <!-- FILTROS PARA GR√ÅFICO DE RETEN√á√ÉO (COORTE) (ALTERADO PARA DATAS) -->
    <div id="cohort-analysis-filters" class="flex flex-wrap justify-center gap-4 my-8 hidden">
        <div class="flex flex-col items-center">
            <label for="cohortCityFilter" class="text-gray-700 font-medium mb-2">Filtrar por Cidade:</label>
            <select id="cohortCityFilter" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                <option value="">Todas as Cidades</option>
            </select>
        </div>
        <div class="flex flex-col items-center">
            <label for="cohortStartDate" class="text-gray-700 font-medium mb-2">Data Inicial (Ativa√ß√£o):</label>
            <input type="date" id="cohortStartDate" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <div class="flex flex-col items-center">
            <label for="cohortEndDate" class="text-gray-700 font-medium mb-2">Data Final (Ativa√ß√£o):</label>
            <input type="date" id="cohortEndDate" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
    </div>
    
    <!-- FILTROS PARA CANCELAMENTO/NEGATIVA√á√ÉO POR CIDADE (ALTERADO PARA DATAS) -->
    <div id="city-cancellation-filters" class="flex flex-wrap justify-center gap-4 my-8 hidden">
        <div class="flex flex-col items-center">
            <label for="cityCancellationStartDate" class="text-gray-700 font-medium mb-2">Data Inicial:</label>
            <input type="date" id="cityCancellationStartDate" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <div class="flex flex-col items-center">
            <label for="cityCancellationEndDate" class="text-gray-700 font-medium mb-2">Data Final:</label>
            <input type="date" id="cityCancellationEndDate" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <!-- FILTRO DE RELEV√ÇNCIA -->
        <div class="flex flex-col items-center">
            <label for="relevanceFilterCity" class="text-gray-700 font-medium mb-2 whitespace-nowrap text-sm">Relev√¢ncia (Meses P√≥s-Ativa√ß√£o):</label>
            <select id="relevanceFilterCity" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                <option value="">Todos</option>
                <option value="0-6">0-6 Meses</option>
                <option value="0-12">0-12 Meses</option>
                <option value="13-24">13-24 Meses</option>
                <option value="25-36">25-36 Meses</option>
                <option value="37+">37+ Meses</option>
            </select>
        </div>
    </div>

    <!-- FILTROS PARA CANCELAMENTO/NEGATIVA√á√ÉO POR BAIRRO (ALTERADO PARA DATAS) -->
    <div id="neighborhood-analysis-filters" class="flex flex-wrap justify-center gap-4 my-8 hidden">
        <div class="flex flex-col items-center">
            <label for="neighborhoodAnalysisCityFilter" class="text-gray-700 font-medium mb-2">Selecione a Cidade:</label>
            <select id="neighborhoodAnalysisCityFilter" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                <option value="">Selecione uma cidade</option>
            </select>
        </div>
        <div class="flex flex-col items-center">
            <label for="neighborhoodAnalysisStartDate" class="text-gray-700 font-medium mb-2">Data Inicial:</label>
            <input type="date" id="neighborhoodAnalysisStartDate" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <div class="flex flex-col items-center">
            <label for="neighborhoodAnalysisEndDate" class="text-gray-700 font-medium mb-2">Data Final:</label>
            <input type="date" id="neighborhoodAnalysisEndDate" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <!-- FILTRO DE RELEV√ÇNCIA -->
        <div class="flex flex-col items-center">
            <label for="relevanceFilterNeighborhood" class="text-gray-700 font-medium mb-2 whitespace-nowrap text-sm">Relev√¢ncia (Meses P√≥s-Ativa√ß√£o):</label>
            <select id="relevanceFilterNeighborhood" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                <option value="">Todos</option>
                <option value="0-6">0-6 Meses</option>
                <option value="0-12">0-12 Meses</option>
                <option value="13-24">13-24 Meses</option>
                <option value="25-36">25-36 Meses</option>
                <option value="37+">37+ Meses</option>
            </select>
        </div>
    </div>

    <!-- FILTROS PARA AN√ÅLISE DE EQUIPAMENTO (ALTERADO PARA DATAS) -->
    <div id="equipment-analysis-filters" class="flex flex-wrap justify-center gap-4 my-8 hidden">
        <div class="flex flex-col items-center">
            <label for="equipmentAnalysisCityFilter" class="text-gray-700 font-medium mb-2">Filtrar por Cidade:</label>
            <select id="equipmentAnalysisCityFilter" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                <option value="">Todas as Cidades</option>
            </select>
        </div>
        <div id="equipmentDateFilterContainer" class="flex gap-4">
            <div class="flex flex-col items-center">
                <label for="equipmentAnalysisStartDate" class="text-gray-700 font-medium mb-2">Data Inicial:</label>
                <input type="date" id="equipmentAnalysisStartDate" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
            </div>
            <div class="flex flex-col items-center">
                <label for="equipmentAnalysisEndDate" class="text-gray-700 font-medium mb-2">Data Final:</label>
                <input type="date" id="equipmentAnalysisEndDate" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
            </div>
        </div>
        <!-- FILTRO DE RELEV√ÇNCIA -->
        <div class="flex flex-col items-center">
            <label for="relevanceFilterEquipment" class="text-gray-700 font-medium mb-2 whitespace-nowrap text-sm">Relev√¢ncia (Meses P√≥s-Ativa√ß√£o):</label>
            <select id="relevanceFilterEquipment" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                <option value="">Todos</option>
                <option value="0-6">0-6 Meses</option>
                <option value="0-12">0-12 Meses</option>
                <option value="13-24">13-24 Meses</option>
                <option value="25-36">25-36 Meses</option>
                <option value="37+">37+ Meses</option>
            </select>
        </div>
    </div>
    
    <!-- FILTROS EVOLU√á√ÉO DI√ÅRIA (J√Å USAVA DATAS) -->
    <div id="daily-evolution-filters" class="flex flex-wrap justify-center gap-4 my-8 hidden">
        <div class="flex flex-col items-center">
            <label for="dailyEvolutionStartDate" class="text-gray-700 font-medium mb-2">Data Inicial:</label>
            <input type="date" id="dailyEvolutionStartDate" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <div class="flex flex-col items-center">
            <label for="dailyEvolutionEndDate" class="text-gray-700 font-medium mb-2">Data Final:</label>
            <input type="date" id="dailyEvolutionEndDate" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
    </div>

    <!-- FILTROS PARA AN√ÅLISE DE JUROS POR ATRASO (ALTERADO PARA DATAS) -->
    <div id="late-payment-filters" class="flex flex-wrap justify-center gap-4 my-8 hidden">
        <div class="flex flex-col items-center">
            <label for="latePaymentStartDate" class="text-gray-700 font-medium mb-2">Data Inicial (Pagamento):</label>
            <input type="date" id="latePaymentStartDate" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <div class="flex flex-col items-center">
            <label for="latePaymentEndDate" class="text-gray-700 font-medium mb-2">Data Final (Pagamento):</label>
            <input type="date" id="latePaymentEndDate" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
    </div>


    <div id="main-charts-area" class="grid-stack mt-8">
        </div>
    
    <div class="flex justify-center mt-6">
        <button id="viewTableBtn" class="bg-purple-600 text-white px-6 py-3 rounded-xl shadow-md transition duration-300 ease-in-out transform hover:scale-105 active:scale-95 font-semibold hidden">
            Ver Tabela Completa (Pagina√ß√£o)
        </button>
    </div>
</div>
{% endblock %}